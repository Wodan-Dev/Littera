<div ng-init="ReadingsCtrl.init()">
  <div flex="95"
       layout-margin
       class="column-list grid">
       <div flex="100"
            id="shop-book-{{ $index }}"
            class="column column-little grid-item"
            layout-align="center center"
            ng-repeat="r in ReadingsCtrl.topBooks">
         <div class="notice-image">
           <div class="shop-image-box">
             <img class="shop-cover" ng-src="{{ r.cover_image  || './static/images/no-image.png' }}" />
             <a ng-click="ReadingsCtrl.btnShowDetail($event, r)" class="shop-more">
               <i class="fa fa-eye" aria-hidden="true"></i>
             </a>
           </div>
         </div>
         <div class="notice-user"
              layout="row">
           <div flex="30"
                flex-xs="30"
                class="user-picture">
             <a ng-href="#/user/{{ r.user.username }}">
               <img ng-src="{{ r.user.cover_image || './static/images/no-image.png' }}">
             </a>
           </div>
           <div flex="70"
                flex-xs="80"
                class="user-name">
             <a ng-href="#/user/{{ r.user.username }}" class="name link-default">{{ r.user.name }}</a>
             <a ng-href="#/user/{{ r.user.username }}" class="username link-tiny">@{{ r.user.username }}</a>
           </div>

         </div>
         <div class="notice-content"
              layout="column">
           <div flex="100"
                ng-show="r.keywords.length">
             <div class="tiny-chip">
               <md-chips ng-model="r.keywords" readonly="true" md-removable="false">
                 <md-chip-template style="padding: 0">
                   <span style="font-size: .75rem">{{$chip.content|titleCase}}</span>
                 </md-chip-template>
               </md-chips>
             </div>
           </div>

           <div flex="100">
             <h3 class="title"
                 style="margin-left: .625rem; margin-right: .625rem; text-align:center">
               <a ng-click="ReadingsCtrl.goToBook(r._id)"
                  class="link-title"
                  ng-bind="r.title"></a>
             </h3>
           </div>
           <div flex="100"
                layout-margin>
             <h4 class="title" ng-bind="r.subtitle"></h4>

           </div>
           <div flex="100">
             <div flex="100"
                  ng-show="r.prices.length"
                  style="margin-left: .625rem; margin-right: .625rem "
                  layout="row">
               <div flex>
                 <p class="price-value">R$ {{ReadingsCtrl.getMinPrice(r.prices) | number:2}} -
                   {{ReadingsCtrl.getSugPrice(r.prices) | number:2}}</p>
               </div>
             </div>
             <div flex="100"
                  ng-show="!r.prices.length"
                  style="margin-left: .625rem; margin-right: .625rem"
                  layout="row">
               <div flex>
                 <p class="price-value">Gratuito</p>
               </div>
             </div>
           </div>
           <div flex="100"
                layout-padding>
             <a class="btn btn-primary-inverted full"
                ng-click="ReadingsCtrl.btnAddBasket(r._id, ReadingsCtrl.getSugPrice(r.prices))">Comprar</a>
           </div>
         </div>
         <div class="notice-options"
              layout="row">
           <div flex="30">
             <a ng-href="#/books/{{ r._id }}?tab=2"
                class="btn-like">
               <i class="fa fa-star fa-1x" style="color: #00AB6B;" aria-hidden="true"></i>
               {{ r.average_star }}
             </a>
           </div>
           <div flex="40">
             <a ng-click="ReadingsCtrl.btnAddToWishList(r._id)"
                ng-show="ReadingsCtrl.isLogged()"
                style="text-align: center; cursor: pointer;"
                class="btn-love">
               <i class="fa fa-heart-o fa-1x"
                  ng-if="ReadingsCtrl.isLogged() &&
                   !ReadingsCtrl.inWishList(r._id)"
                  style="cursor: pointer;color: #00AB6B;"
                  aria-hidden="true"></i>
               <i class="fa fa-heart fa-1x"
                  ng-if="ReadingsCtrl.isLogged() &&
                  ReadingsCtrl.inWishList(r._id)"
                  style="cursor: pointer;color: #00AB6B;"
                  aria-hidden="true"></i>
             </a>
           </div>
           <div flex="30">
             <a ng-href="#/books/{{ r._id }}?tab=3" class="btn-comment">
               <i class="fa fa-comments fa-1x" style="color: #00AB6B;" aria-hidden="true"></i>
               {{ r.comments.length }}
             </a>
           </div>
         </div>
       </div>
  </div>



  <!--<div flex="100"
       class="follow-grid"
       layout-align="center center">
    <ul ng-repeat="r in ReadingsCtrl.topBooks">
      <li>
        <div class="follow-item">
          <div class="follow-user">
            <a ng-href="#/books/{{ r._id  }}">
              <img ng-src="{{ r.cover_image || './static/images/no-image.png' }}" />
              <p class="name link-default">{{r.title }}</p>
              <p class="username link-tiny"
                 ng-show="r.subtitle.length">{{r.subtitle}}</p>
            </a>
          </div>
        </div>
      </li>
    </ul>
  </div>-->

  <!--<md-list  flex>
    <md-list-item class="md-1-line"
                  ng-cloak
                  ng-repeat="r in ReadingsCtrl.topBooks">
      <div layout="column"
           flex="100">
        <div flex="100"
             style="padding: 0"
             layout="row">
          <img ng-src="{{ r.cover_image  || './static/images/no-image.png' }}"
               class="md-avatar"
               alt="r.name" />
          <div class="md-list-item-text"
               flex="100"
               layout="column">
            <a style="padding-top: .625rem"
               ng-href="#/books/{{ r._id  }}"
               class="name link-default"
               ng-bind="r.title"></a>
            <br />
            <a style="padding-top: .625rem"
               ng-show="r.subtitle.length"
               ng-href="#/books/{{ r._id  }}"
               class="username link-tiny"
               ng-bind="r.subtitle"></a>
          </div>
        </div>
      </div>

    </md-list-item>

  </md-list>-->
</div>
